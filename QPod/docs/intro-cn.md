---
sidebar_position: 02
---

# QPodä½¿ç”¨æŒ‡å¼•

AI/æ•°æ®ç§‘å­¦çš„ç‘å£«å†›åˆ€â€”â€”QPodæä¾›äº†ä¸€ç«™å¼ã€å¼€ç®±å³ç”¨ã€å¯è‡ªç”±å®šåˆ¶çš„ï¼ŒåŸºäºå®¹å™¨çš„ã€å¼€æºAI/æ•°æ®ç§‘å­¦å¼€å‘ã€åˆ†æå·¥å…·ã€‚

## AI/æ•°æ®ç§‘å­¦çš„ç‘å£«å†›åˆ€

QPodå°†å¸¸è§çš„ã€æœ€æ–°çš„å¼€æ”¾æ•°æ®ç§‘å­¦ç¯å¢ƒå’Œå·¥å…·å°è£…æˆä¸ºäº†dockeré•œåƒï¼Œä½ æ— éœ€è¿›è¡Œç¹ççš„ç¯å¢ƒé…ç½®å³å¯å¿«é€Ÿå¼€å§‹AI/æ•°æ®ç§‘å­¦çš„å·¥ç¨‹ï¼ŒåŒæ—¶èƒ½å¤Ÿæ–¹ä¾¿åœ°å¤ç°ä¸åˆ†äº«æ‚¨çš„ç ”ç©¶å·¥ä½œã€‚æ‚¨å¯ä»¥åœ¨QPodä¸­ä½¿ç”¨Jupyter Notebook/JupyterLabä¸­è¿è¡ŒPython, R, OpenJDK, NodeJS, Go, Julia, Octaveç­‰è¯­è¨€ï¼ŒQPodä¹ŸåŒ…å«äº†VS Code, R-Studioç­‰å·¥å…·ã€‚ä½¿ç”¨QPodï¼Œæ‚¨å¯ä»¥ï¼š

- ğŸ“¦ é¿å…ç¹ççš„ç¯å¢ƒé…ç½®ã€å®‰è£…è¿‡ç¨‹ï¼ŒQPodå·²ç»æŠŠå¸¸ç”¨çš„ã€æœ€æ–°çš„ç¯å¢ƒå’Œå·¥å…·å°è£…åœ¨å®¹å™¨é•œåƒä¸­ï¼Œæ‚¨å¯ä»¥å¼€ç®±å³ç”¨ï¼›
- ğŸŒ è®©æ‚¨çš„å·¥ä½œæ›´å®¹æ˜“è¢«è‡ªå·±/ä»–äºº`å¤ç°`â€”â€”QPodè®©ç§‘å­¦ç ”ç©¶å’Œæ•°æ®åˆ†æé¡¹ç›®æˆä¸º[å¯å¤ç°çš„å·¥ä½œæµ(reproducible pipelines)](https://doi.org/10.1038/d41586-018-07196-1)ï¼Œè¿™èƒ½è®©ä½ æ›´å¥½åœ°å’ŒåŒè¡Œ[åˆ†äº«ä½ çš„å·¥ä½œ](https://doi.org/10.1038/515151a).
- ğŸ†™ èƒ½è®©ä½ çš„ç®—æ³•å’Œå…³é”®åˆ›æ–°æ›´å®¹æ˜“æ¨ªå‘ã€çºµå‘æ‰©å±•ï¼ŒQPodè®©ä½ æŠŠè‡ªå·±åœ¨å¼€å‘ç¯å¢ƒæ‰€ä½œçš„å·¥ä½œæ— ç¼ã€æå…¶ç®€å•åœ°éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œå¦‚æä¾›RESTful APIã€è¿›è¡Œmap/reduceæ“ä½œç­‰ã€‚

![Screenshot of QPod](https://raw.githubusercontent.com/wiki/QPod/qpod-hub/img/QPod-screenshot.webp "Screenshot of QPod")

## QPodåŒ…å«äº†ä»€ä¹ˆ

QPodå°è£…ã€æ•´ç†ã€ç»´æŠ¤äº†ä¸€äº›åˆ—çš„å®¹å™¨é•œåƒï¼Œè¿™äº›é•œåƒåŒ…å«äº†å¸¸è§çš„å¼€æ”¾AI/æ•°æ®ç§‘å­¦è¯­è¨€ç¯å¢ƒå’Œå®‰è£…åŒ…ï¼šPtyhon, R, OpenJDK, NodeJS, Go, Julia, Octaveç­‰ï¼ŒåŒæ—¶å°è£…äº†Jupyter Notebook / JupyterLab / VS Code / RStudioç­‰IDEè®©ç”¨æˆ·ä¾¿æ·åœ°è¿›è¡Œå¼€å‘ã€äº¤äº’è®¡ç®—ã€‚QPodé€‚ç”¨äºä¸‹é¢çš„åº”ç”¨åœºæ™¯ï¼š

- å•æœºä½¿ç”¨ï¼šåœ¨ç¬”è®°æœ¬/å°å¼æœº/å·¥ä½œç«™ä¸Šä½¿ç”¨ï¼Œä½œä¸ºAI/æ•°æ®ç§‘å­¦å¼€å‘ç¯å¢ƒï¼›
- å¤šç§Ÿæˆ·ä½¿ç”¨ï¼šåœ¨æœåŠ¡å™¨/é›†ç¾¤ä¸Šä¾›å¤šç”¨æˆ·ä½¿ç”¨ï¼Œä»¥å…±äº«æœåŠ¡å™¨è®¡ç®—èµ„æºï¼ˆå¦‚GPUï¼‰ï¼›
- éƒ¨ç½²äºç”Ÿäº§æœåŠ¡ï¼šä½¿ç”¨è¿™äº›é•œåƒåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æä¾›RESTful APIæˆ–è€…ä½œä¸ºmap/reduceç­‰æ“ä½œçš„æ‰§è¡Œå•å…ƒç­‰ã€‚

## å®‰è£…ä½¿ç”¨ `1-2-3-GO`ğŸ‰

### 0.å®‰è£…Docker

Linux (e.g.: Ubuntu LTS) / Windows (>=10) / macOS.

- CPUç”¨æˆ·ï¼šè¯·å®‰è£… docker-ce ( [Linux](https://hub.docker.com/search/?offering=community&type=edition&operating_system=linux) | [macOS](https://download.docker.com/mac/stable/Docker.dmg) | [Windows](https://download.docker.com/win/stable/Docker%20for%20Windows%20Installer.exe) ) æˆ– [docker-ee](https://hub.docker.com/search/?offering=enterprise&type=edition)
- GPUç”¨æˆ·ï¼šéœ€ä½¿ç”¨Linuxï¼Œåœ¨å®‰è£…Dockerä¹‹åè¿˜éœ€å®‰è£…[NVIDIA driver](https://github.com/NVIDIA/nvidia-docker/wiki/Frequently-Asked-Questions#how-do-i-install-the-nvidia-driver)ä¸æœ€æ–°ç‰ˆçš„[nvidia-container-toolkit](https://github.com/NVIDIA/nvidia-docker#quickstart)

### 1.é€‰æ‹©ä½ éœ€è¦çš„åŠŸèƒ½åŒ…å’Œä½ çš„å·¥ä½œç›®å½•

- ä»é¡¹ç›®ä¸»é¡µåº•éƒ¨çš„è¡¨æ ¼ï¼ˆQPodé•œåƒåŠŸèƒ½åˆ—è¡¨ï¼‰ä¸­ï¼Œé€‰æ‹©ä½ éœ€è¦çš„åŠŸèƒ½åŒ…ï¼Œå¦‚æœä½ çš„ç£ç›˜ç©ºé—´å’Œç½‘é€Ÿæ»¡è¶³è¦æ±‚åˆ™æ¨èCPUç”¨æˆ·é€‰æ‹©`full`ï¼ŒGPUç”¨æˆ·é€‰æ‹©`full-cuda`
- é€‰æ‹©ä½ çš„å·¥ä½œç›®å½•ï¼Œè¯·ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆå¦‚`/root`,`/User/me`,`D:/work`ï¼‰

### 2.å‡†å¤‡ä¸‹è½½å’Œå¯åŠ¨å®¹å™¨æœåŠ¡

æ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿè¿è¡Œä¸‹æ–¹è„šæœ¬ï¼Œå°†å…¶ä¸­çš„`IMG`ä¸`WORKDIR`æ”¹ä¸ºè‡ªå·±çš„å®‰è£…é…ç½®ã€‚è¿è¡Œå‰å…³é—­Jupyterä»¥åŠå…¶ä»–å ç”¨8888æˆ–9999ç«¯å£çš„ç¨‹åºã€‚

#### å¤§é™†åœ°åŒºç½‘ç»œç¯å¢ƒç‰¹æ®Šæç¤º

ç”±äºä¸‹è½½è¿‡ç¨‹éœ€è¦ä»DockerHubä¸‹è½½è¾ƒå¤§çš„é•œåƒæ–‡ä»¶ï¼Œå¦‚æœæ‚¨ä½¿ç”¨çš„ç½‘ç»œç¯å¢ƒéœ€è¦åŠ é€Ÿï¼Œ
è¯·å°è¯•ä½¿ç”¨é˜¿é‡Œäº‘æä¾›çš„é•œåƒï¼šæˆ‘ä»¬å·²ç»å°†é•œåƒåŒæ­¥è‡³äº†é˜¿é‡Œäº‘çš„åŒ—äº¬ã€æ­å·é•œåƒä»“åº“ï¼ˆé˜¿é‡Œäº‘ç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨VPSç½‘ç»œè¿›ä¸€æ­¥åŠ é€Ÿï¼‰ã€‚

æ–¹æ³•ä¸ºï¼Œåœ¨ä¸‹é¢çš„`IMG`å˜é‡ä¸­ï¼ŒåŠ ä¸Šé•œåƒå‰ç¼€ï¼š

- åŒ—äº¬é•œåƒï¼š`registry.cn-beijing.aliyuncs.com`
- æ­å·é•œåƒï¼š`registry.cn-hangzhou.aliyuncs.com`

ä¾‹å¦‚ï¼š`IMG="registry.cn-beijing.aliyuncs.com/qpod/base-dev:full"`

#### Linux/macOSç”¨æˆ·ï¼Œåœ¨bashæˆ–ç»ˆç«¯ä¸­è¿è¡Œ

```shell
IMG="qpod/base-dev:latest"  # <- ä½ é€‰æ‹©çš„åŠŸèƒ½åŒ…
WORKDIR="/root"  # <- macOSç”¨æˆ·å»ºè®®æ”¹ä¸ºç”¨æˆ·ç›®å½•ï¼Œå¦‚ï¼š/Users/your_user_name

docker run -d --restart=always \
    --name=QPod \
    --hostname=QPod \
    -p 8888:8888 -p 9999:9999 \
    -v $WORKDIR:/root \
    $IMG
sleep 10s && docker logs QPod 2>&1|grep token=
```

âš ï¸ ä½¿ç”¨å¸¦æœ‰`nvidia-docker`çš„NVIDIA GPUæ—¶è¯·æ³¨æ„:

- ğŸ‘‰ ç¡®ä¿Dockerç‰ˆæœ¬åœ¨19.03ä»¥ä¸Šå¹¶åœ¨ä¸»æœºä¸Šèƒ½æ­£å¸¸å¤Ÿè¿è¡Œ`nvidia-smi`å‘½ä»¤
- ğŸ‘‰ åœ¨`docker run`æŒ‡ä»¤ä¸­å¢åŠ ä¸€é¡¹: `--gpus all` (ä½äº`--restart=always`ä¹‹åï¼Œæ—§nvidia-containerç‰ˆæœ¬è¯·ä½¿ç”¨`--runtime nvidia`)
- ğŸ‘‰ ä½¿ç”¨`IMG="qpod/qpod:full-cuda"`æˆ–å…¶ä»–æ”¯æŒcudaçš„é•œåƒ

#### Windowsç”¨æˆ·ï¼Œåœ¨[Terminal](https://github.com/microsoft/terminal)æˆ–CMDä¸­è¿è¡Œ

```cmd
SET IMG="qpod/qpod:full"
SET WORKDIR="D:/work"

docker run -d --restart=always ^
    --name=QPod ^
    --hostname=QPod ^
    -p 8888:8888 9999:9999 ^
    -v %WORKDIR%:/root ^
    %IMG%
timeout 10 && docker logs QPod 2>&1|findstr token=
```

### 3.ç­‰å¾…ä¸‹è½½å’Œå¯åŠ¨

ä»¥ä¸ŠæŒ‡ä»¤ä¼šä¸‹è½½dockeré•œåƒï¼Œå»ºç«‹ä¸€ä¸ªåä¸ºQPodçš„dockerå®¹å™¨ï¼Œå¹¶æ‰“å°å‡ºä¸€æ¡å«æœ‰48ä½åå…­è¿›åˆ¶å¯†é’¥çš„URLåœ°å€ã€‚

### Go! ğŸ‰

å¤åˆ¶`?token=`ä¹‹åçš„å¯†é’¥ï¼ˆæ­¥éª¤3ä¸­æœ€åæ‰“å°å‡ºçš„ï¼‰ï¼Œä»ä½ çš„æµè§ˆå™¨æ‰“å¼€[http://localhost:8888](http://localhost:8888)æˆ–[http://ip-address:8888](http://ip-address:8888)å¹¶ç²˜è´´å¯†é’¥ï¼Œå³å¯å¼€å§‹ä½¿ç”¨ã€‚

## é™„åŠ ä¿¡æ¯

### FAQ

å…³äºFAQç³»åˆ—é—®é¢˜è¯·å‚è§[æ­¤å¤„](https://github.com/QPod/docker-images/wiki)

### ç¡¬ä»¶

é•œåƒéœ€å»ºç«‹åœ¨`ubuntu:latest`ä¸”åªèƒ½åœ¨Ã—86å¹³å°æµ‹è¯•ï¼Œarm64/ppc64leå¹³å°é¢„è®¡è¿›è¡Œå°‘é‡ä¿®æ”¹ä¹‹åå¯ä»¥é€‚é…ã€‚

### å®‰è£…åŒ…ç®¡ç†

å¼ºçƒˆä¸å»ºè®®ä½¿ç”¨`conda`æ¥å®‰è£…libæˆ–packageï¼Œé‰´äºcondaæ— æ³•å¤ç”¨å·²æœ‰çš„ç³»ç»Ÿåº“ä¸”æ— æ³•æä¾›ç¨³å®šã€æœ€æ–°çš„Liunxç³»ç»Ÿå®‰è£…åŒ…åº“ï¼ˆä¾‹å¦‚æŸäº›åŒ…åœ¨`debian:jessie`ä¸‹æ„å»ºï¼Œåœ¨`debian:stretch`ä¸‹å°±æ— æ³•æ­£å¸¸ä½¿ç”¨ï¼‰ã€‚

### å®šåˆ¶åŒ–

è‹¥å‘ç°æœ‰ç³»ç»Ÿåº“ã€Pythonæ¨¡å—æˆ–RåŒ…çš„ç¼ºå¤±ï¼Œå¯åœ¨`work`æ–‡ä»¶å¤¹çš„`install_XX.list`ä¸­è¿›è¡Œè¡¥å……ã€‚

### è‡´è°¢

æ„Ÿè°¢[Logan](https://github.com/liuhaoge)åŒå­¦çš„ç¿»è¯‘å’Œå»ºè®®ã€‚
